import json

'''
Created on June 25, 2013
@author: Arun Varma
'''

class Location(object):
    '''
    __init__
    defines a Location object
    @param name: String
    @param stateId: int
    @param countryId: int
    @param city: String
    @param timezone: String
    @param zipcode: String
    '''
    def __init__(self, name, stateId = None, countryId = None, city = None, timezone = None, zipcode = None):
        self._name = name
        self._stateId = stateId
        self._countryId = countryId
        self._timezone = timezone
        self._zipcode = zipcode
        self._devices = []

    '''
    getDevices
    returns the list of Devices at this Location
    '''
    def getDevices(self):
        return self._devices

    '''
    addDevice
    adds the given device to this Location's list of devices
    '''
    def addDevice(self, device):
        self._devices.add(device)

    '''
    nameJSON
    returns the JSON representation of the name
    '''
    def nameJSON(self):
        return "name:"+self._name

    '''
    stateJSON
    returns the JSON representation of the stateId
    '''
    def stateJSON(self):
        return "state:{\nid:" + self._stateId + "\n}"

    '''
    countryJSON
    returns the JSON representation of the countryId
    '''
    def countryJSON(self):
        return "country:{\nid:" + self._countryId + "\n}"

    '''
    timezoneJSON
    returns the JSON representation of the timezone
    '''
    def timezoneJSON(self):
        return "timezone:{\nid:" + self._timezone + "\n}"

    '''
    zipcodeJSON
    returns the JSON representation of the zipcode
    '''
    def zipcodeJSON(self):
        return "zip:" + self._zipcode

    '''
    toJSON
    returns the JSON representation of this Location
    '''
    def toJSON(self):
        toReturn = self._name
        if self._stateId != None:
            toReturn += self.stateJSON()
        if self._countryId != None:
            toReturn += self.countryJSON()
        if self._timezone != None:
            toReturn += self.timezoneJSON()
        if self._zipcode != None:
            toReturn += self.zipcodeJSON()

        return "location:{\n" + toReturn
            }
        })